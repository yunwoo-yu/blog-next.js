---
title: "Tree Shaking(lodash)"
createdAt: 2023-07-03
description: ë­£? lodashê°€ CJSë¼ì´ë¸ŒëŸ¬ë¦¬?
thumbnail: /images/react/tree_shaking/thumbnail.png
tags: [React, Lodash, TreeShaking]
---

<img src="/images/react/tree_shaking/1.png" width="100%" alt="post image" className='post-image' />

> í…Œì˜¤ì˜ ìŠ¤í”„ë¦°íŠ¸ê°€ ëë‚˜ê³  ì½”ë“œ ë¦¬íŒ©í† ë§ PRì„ ì˜¬ë ¸ëŠ”ë° PLë¶„ì˜ ì½”ë©˜íŠ¸ë¥¼ ë°›ê³  ì¶©ê²©ë¨¹ì–´ ê¸°ë¡í•´ë‘ëŠ” lodashì˜ tree shaking ğŸ¦Š

### tree shaking
íŠ¸ë¦¬ ì‰ì´í‚¹ì€ **ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œë¥¼ ì œê±°**í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ë²ˆë“¤ë§ ì‚¬ì´ì¦ˆë¥¼ ì¤„ì´ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ webpack ë“±ì—ì„œ ë²ˆë“¤ëŸ¬ì— í¬í•¨ì´ ë˜ì–´ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

í‰ì†Œì— ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•  ë•Œ ë‹¤ë¥¸ ê³³ì—ì„œ ì‚¬ìš©í•  ë•Œ ë‘ê°œì˜ ë°©ë²•ì„ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ”ë°

```ts showLineNumbers
import ${name} from 'ê²½ë¡œ'
const name = require('ê²½ë¡œ')
``` 

`import`ëŠ” ES6ì— ìƒˆë¡­ê²Œ ì¶”ê°€ëœ ë°©ì‹ì´ê³  `require`ëŠ” ì£¼ë¡œ nodeì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²• ì´ì˜€ìŠµë‹ˆë‹¤. (í˜„ì¬ëŠ” nodeì—ì„œë„ ESëª¨ë“ˆ ì‚¬ìš© ê°€ëŠ¥)

### lodash

```ts showLineNumbers
import { debounce } from 'lodash'
import { WheelEvent, useRef } from 'react'

const useHorizontalWheel = () => {
  const wheelRef = useRef<null | HTMLDivElement>(null)
  const onWheelHandler = debounce((e: WheelEvent<HTMLDivElement>) => {
    if (wheelRef.current) {
      wheelRef.current.scrollLeft +=
        e.deltaY > 0 ? wheelRef.current.clientWidth + 10 : -wheelRef.current.clientWidth + -10
    }
  }, 100)

  return { wheelRef, onWheelHandler }
}

export default useHorizontalWheel
```

<img src="/images/react/tree_shaking/2.png" width="100%" alt="post image" className='post-image' />

ìŠ¤í”„ë¦°íŠ¸ í”„ë¡œì íŠ¸ ì§„í–‰ ì¤‘ ë§ˆìš°ìŠ¤ íœ ì„ ì´ìš©í•œ ê°€ë¡œ ìŠ¬ë¼ì´ë“œë¥¼ ë§Œë“œëŠ” êµ¬ê°„ì— debounce ê¸°ìˆ ì„ ì ìš©í•˜ê¸° ìœ„í•´ lodash ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í–ˆê³  í‰ì†Œì™€ ë˜‘ê°™ì´ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ í›…ì€ ì—…ë¡œë“œ í˜ì´ì§€ì—ì„œ ì‚¬ìš©í–ˆê³  PLë¶„ê»˜ ì½”ë©˜íŠ¸ë¥¼ ë“£ê³  ë¹Œë“œí•˜ì—¬ í™•ì¸í•´ë³´ë‹ˆ ë‹¤ë¥¸í˜ì´ì§€ ë³´ë‹¤ í™•ì‹¤íˆ í° ì‚¬ì´ì¦ˆ.. ê´€ë ¨ëœ ë‚´ìš©ì„ ì°¾ì•„ë³´ë‹ˆ ì´ë¯¸ ë§ì´ ì´ìŠˆê°€ ëë˜ ì‚¬í•­ì¸ì§€ ë§ì€ ë ˆí¼ëŸ°ìŠ¤ê°€ ë‚˜ì™”ê³  ê²°ê³¼ëŠ” ì´ë ‡ìŠµë‹ˆë‹¤.
> lodash ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” **CommonJS í˜•ì‹ìœ¼ë¡œ (module.exports ë°©ì‹ì˜ ë‚´ë³´ë‚´ê¸°)** ì‘ì„±ë˜ì–´ ìˆì–´ í•´ë‹¹ ì½”ë“œëŠ” íŠ¸ë¦¬ ì‰ì´í‚¹ì„ í•  ìˆ˜ ì—†ë‹¤. Webpackì€ ES6 ëª¨ë“ˆ í˜•ì‹ìœ¼ë¡œ ì˜ì¡´ì„±ì„ ê´€ë¦¬í•˜ëŠ” ëª¨ë“ˆë§Œ Tree-Shakingì„ ì§„í–‰í•œë‹¤. [ì›¹íŒ© Tree Shaking](https://webpack.kr/guides/tree-shaking/)

### í•´ê²° ë°©ë²•
ê´€ë ¨ ë‚´ìš©ì„ ì°¾ì•„ë³´ê³  í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ë„ ìˆì—ˆì§€ë§Œ ê°„ë‹¨í•˜ê²Œ import ë‚´ìš©ì„ ë³€ê²½í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í–ˆë‹¤. 2ê°€ì§€ì˜ ë°©ë²• ì¤‘ í•˜ë‚˜ë¥¼ ì±„íƒí•˜ì—¬ ì‚¬ìš©í•˜ë©´ ë ê±° ê°™ë‹¤.

```ts showLineNumbers
import debounce from 'lodash/debounce' // ë˜ëŠ”
import { debounce } from 'lodash-es' // npm i lodash-es ì„¤ì¹˜ í•„ìš”
```

### ì ìš© í›„

<img src="/images/react/tree_shaking/3.png" width="100%" alt="post image" className='post-image' />

ë¬´ë ¤ 24kBë‚˜ ì¤„ì–´ ë“œëŠ”ê±¸ ë³¼ ìˆ˜ ìˆë‹¤. ë²ˆë“¤ í¬ê¸°ë¥¼ ë” ì¤„ì¼ ë°©ë²•ì´  ìˆëŠ”ì§€ ë¹¨ë¦¬ ë” ì°¾ì•„ë´ì•¼ê² ë‹¤. (ì„±ëŠ¥ ê´€ë ¨ ìµœì í™” ì‘ì—…ì€ ì„±ê³µ ì‹œ ì„±ì·¨ê°ì´ ë„ˆë¬´ ì¢‹ë‹¤..)
í•´ë‹¹ ë‚´ìš©ì„ ëª°ëë‹¤ë©´ lodash ì‚¬ìš© í˜ì´ì§€ë§ˆë‹¤ ë²ˆë“¤ ì‚¬ì´ì¦ˆë¥¼ ì¤„ì´ì§€ ëª»í–ˆì„ì§€ë„ ëª°ëëŠ”ë° ì•ìœ¼ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ì‹œ í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ export ë°©ì‹ì´ ES ëª¨ë“ˆì´ ë§ëŠ”ì§€ ì²´í¬ í•´ì•¼ê² ë‹¤! ì™„ì „ ì¢‹ì€ ì •ë³´ ê³µìœ  ê°ì‚¬í•©ë‹ˆë‹¤ PL,,ğŸ‘